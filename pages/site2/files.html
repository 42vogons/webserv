<!DOCTYPE html>
<html>
<head>
    <title>Exemplo de Exclusão de Imagem</title>
    <style>
        .image-container {
            display: inline-block;
            text-align: center;
            margin: 10px;
        }
    </style>
</head>
<body>
    <div class="message" id="messageDiv">
        {{pages}}
    </div>


<script>
function deleteImage(imageName) {
    if (confirm("Tem certeza de que deseja excluir esta arquivo : "+imageName+" ?")) {
        fetch('/' + encodeURIComponent(imageName), {
            method: 'DELETE'
        })
        .then(response => {
            if (response.ok) {
                console.log('Imagem excluída com sucesso.');
                // Remova a div de image-container após excluir
                var imageContainer = document.querySelector(`[onclick="deleteImage('${imageName}')"]`).parentNode;
                imageContainer.parentNode.removeChild(imageContainer);
            } else {
                
                response.text().then(
                    responseText => {
                        document.getElementById('messageDiv').innerHTML = responseText;
                        console.error('Erro ao excluir a imagem.');
                    }
                ).catch(error => {
                    console.error('Erro ao obter conteúdo da resposta:', error);
                    });
                
            }
        })
        .catch(error => {
            console.error('Erro ao excluir a ima--', error);
        });
    }
}
</script>

</body>
</html>